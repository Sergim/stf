<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Provides functions to collect and manipulate Brazilian's Supreme
    Court decisions • stf</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Provides functions to collect and manipulate Brazilian's Supreme
    Court decisions">
<meta property="og:description" content="Retrieves data from Brazilian Supreme Court
    decisions.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">stf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9206</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<ul>
<li>
<a href="#stf">STF</a>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#installation">Installation</a></li>
<li>
<a href="#usage-for-stf">Usage for STF</a>
<ul>
<li><a href="#read-metadata">Read metadata</a></li>
<li><a href="#read-the-full-opinion-text-inteiro-teor">Read the full opinion text (inteiro teor):</a></li>
<li><a href="#use-the-docket-number">Use the docket number</a></li>
<li><a href="#work-with-the-annual-list-of-rulings">Work with the annual list of rulings</a></li>
<li><a href="#vocabulary-correspondence">Vocabulary correspondence</a></li>
</ul>
</li>
<li><a href="#caveats">Caveats</a></li>
</ul>
</li>
</ul>
<div id="stf" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#stf" class="anchor"></a>STF</h1></div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The goal of STF is to retrieve and manipulate data from the Brazilian Supreme Court decisions. The package makes an effort to clean and tidy the data, with the objective of making it as ready as possible for analysis.</p>
<p>Functions are grouped in five categories:</p>
<ul>
<li>Download functions: They start with the verb download and create file or directories.</li>
<li>Read functions: They read data from files downloaded by download functions.</li>
<li>Get functions: They create R objects, by retrieving and parsing the data from the url connection. In other words, they subsequently apply the corresponding download and read functions without storing any object to your disk.</li>
<li>View functions: They don’t return any object or file, they just browse the help pages from STF gateway.</li>
<li>Tidy functions: these functions are still being created. They will help clean and preprocess data for posterior analysis. I will only add fuctions that are STF specific. Other tidy functions are available in the <a href="github.com/courtsbr/JurisMiner">JurisMiner</a> and the <a href="github.com/courtsbr/abjutils">abjutils</a> packages.</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install stf from github with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"jjesusfilho/stf"</span>)</a></code></pre></div>
<p>You have to make sure the packages <a href="https://github.com/ropensci/tesseract">tesseract</a> and <a href="https://github.com/ropensci/pdftools">pdftools</a> are installed as well as their dependencies.</p>
<p>You also have to download the <code>tesseract</code> trained data for Portuguese. You can find directions for Linux, Mac-OS and Windows <a href="https://github.com/tesseract-ocr/tesseract/wiki">here</a></p>
</div>
<div id="usage-for-stf" class="section level2">
<h2 class="hasAnchor">
<a href="#usage-for-stf" class="anchor"></a>Usage for STF</h2>
<div id="read-metadata" class="section level3">
<h3 class="hasAnchor">
<a href="#read-metadata" class="anchor"></a>Read metadata</h3>
<p>Suppose you want to get the metadata from the Brazilian Supreme Court panel opinions with the expression “excesso de prazo”. You can execute the following function:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">df&lt;-<span class="kw"><a href="reference/get_stf_precedent_metadata.html">get_stf_precedent_metadata</a></span>(<span class="dt">open_search=</span><span class="st">"excesso de prazo"</span>)</a></code></pre></div>
<p>Or simply:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">df&lt;-<span class="kw"><a href="reference/get_stf_precedent_metadata.html">get_stf_precedent_metadata</a></span>(<span class="st">"excesso adj2 prazo"</span>)</a></code></pre></div>
<p>By using “adj2” you are telling the search engine that “prazo” is one word apart from “excesso”.</p>
<p>If you want to search for monocratic decisions, you can use another function:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">df&lt;-<span class="kw"><a href="reference/get_stf_mono_metadata.html">get_stf_mono_metadata</a></span>(<span class="st">"excesso adj2 prazo"</span>)</a></code></pre></div>
<p>In order to find all the options, use the help function:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">?<span class="kw"><a href="reference/get_stf_precedent_metadata.html">get_stf_precedent_metadata</a></span>()</a></code></pre></div>
<p>Suppose now that you want to read all cases where “Telefônica” is a party. You can add the suffix “.PART.” to the search sentence:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">telefonicaDF&lt;-<span class="kw"><a href="reference/get_stf_precedent_metadata.html">get_stf_precedent_metadata</a></span>(<span class="st">"telefonica.PART."</span>)</a></code></pre></div>
<p>If you want to see all the possible suffixes, the function <code>stf_help_view()</code> will load the help page on R viewer pane:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="reference/view_stf_help.html">view_stf_help</a></span>()</a></code></pre></div>
</div>
<div id="read-the-full-opinion-text-inteiro-teor" class="section level3">
<h3 class="hasAnchor">
<a href="#read-the-full-opinion-text-inteiro-teor" class="anchor"></a>Read the full opinion text (inteiro teor):</h3>
<p>Once you have imported the metadata, you can use the same data frame to import the full opinion’s text. Beware that opinions published before 2011 and even some of that year are in pdf image, not in text. Those opinions are downloaded, converted to <code>png</code>, and subsequently submmited to OCR in order to be read.</p>
<p>The limitation is that it takes a considerable amount of time to read the opinion’s text. Without parallelization, one opinion can take up to 4 minutes to be read. As an example, 2000 opinions might take over five days to be read.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">decisionTelefonica&lt;-<span class="kw"><a href="reference/download_stf_dockets.html">download_stf_dockets</a></span>(telefonicaDF[<span class="dv">1</span>,]). </a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co"># Downloads just the first decision from the dataset imported above.</span></a></code></pre></div>
</div>
<div id="use-the-docket-number" class="section level3">
<h3 class="hasAnchor">
<a href="#use-the-docket-number" class="anchor"></a>Use the docket number</h3>
<p>If you have the docket number, you can use it to download all information about that lawsuit:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="reference/download_stf_dockets.html">download_stf_dockets</a></span>(<span class="dt">action=</span><span class="st">"HC"</span>,<span class="dt">docket_number =</span> <span class="st">"4040"</span>)</a></code></pre></div>
</div>
<div id="work-with-the-annual-list-of-rulings" class="section level3">
<h3 class="hasAnchor">
<a href="#work-with-the-annual-list-of-rulings" class="anchor"></a>Work with the annual list of rulings</h3>
<p>Another way to work with decisions ruled by the Supreme Court is accessing their spreadsheet of annual rulings. The spreadsheets are supposed to have all cases ruled in a year and give valuable information about the cases. You can check all functions at the reference tab, but pretty soon I will add an vignette showing how to go through a case.</p>
</div>
<div id="vocabulary-correspondence" class="section level3">
<h3 class="hasAnchor">
<a href="#vocabulary-correspondence" class="anchor"></a>Vocabulary correspondence</h3>
<p>The table below shows a rough translation of the Brazilian Supreme Court’s opinion’s elements to US English:</p>
<table class="table">
<thead><tr class="header">
<th>Portuguese</th>
<th>English</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Acórdão</td>
<td>Opinion</td>
</tr>
<tr class="even">
<td>Ementa</td>
<td>Syllabus</td>
</tr>
<tr class="odd">
<td>Relator</td>
<td>Reporter</td>
</tr>
<tr class="even">
<td>Ministro</td>
<td>Justice</td>
</tr>
<tr class="odd">
<td>Órgão julgador</td>
<td>Judicial panel</td>
</tr>
<tr class="even">
<td>Decisão</td>
<td>Decision</td>
</tr>
<tr class="odd">
<td>Processo</td>
<td>Docket number</td>
</tr>
<tr class="even">
<td>Parte</td>
<td>Party</td>
</tr>
<tr class="odd">
<td>Andamento</td>
<td>Docket sheet</td>
</tr>
<tr class="even">
<td>Classe</td>
<td>Petition type</td>
</tr>
<tr class="odd">
<td>Prover/conceder</td>
<td>Reverse</td>
</tr>
<tr class="even">
<td>Desprover/denegar</td>
<td>Affirm</td>
</tr>
<tr class="odd">
<td>Anular decisão</td>
<td>Remand</td>
</tr>
<tr class="even">
<td>Origem</td>
<td>Original jurisdiction</td>
</tr>
<tr class="odd">
<td>Data da distribuição</td>
<td>Argued date</td>
</tr>
<tr class="even">
<td>Data do julgamento</td>
<td>Decision’s date</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="caveats" class="section level2">
<h2 class="hasAnchor">
<a href="#caveats" class="anchor"></a>Caveats</h2>
<p>The STF precedents’ (jurisprudence) search service is flawed by poor design and inconsistent data. To number a few:</p>
<ol>
<li><p>Brazilian Supreme Court offers no Web API, which leads us to creating webscrapers to download public data that should be available to researchers through open data protocols and endpoints;</p></li>
<li><p>The classes of the parties in a lawsuit are very messy. The way justices, or their advisors, write the parties’ information is transfered to the database without any normalization. To give an example, the reference to the attorney can be written in many forms: advogada, adv, advda, advdo, proc etc. The authors of this package have put some effort to fix that, but the creativity of the the justices and their advisors goes beyond our capacity to figure everythig out.</p></li>
<li><p>Contrary to other courts, such as TJSP and STJ, the search for decisions does not return all cases. If you don’t have the docket number of every lawsuit about the matter or precedural class, you simply can’t access everything that was decided.</p></li>
<li><p>Initially we thought that the spreadsheets listing all ruled cases of the past years were accurate, but after downloading them in different times, we have noticed that the number of cases can increase or decrease depending on the moment we downloaded. As the STF IT people don’t make any clarification about these changes, there is no way to guess how many cases were actually ruled during a certain year.</p></li>
<li><p>Inconsistencies in the database are rife. Decisions without the full opinion’s text, dates of publication with no reference to the decisions’ dates and signatures’ dates. Decisons of one justice are assigned to another justice etc.</p></li>
</ol>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jose de Jesus Filho <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/jjesusfilho/stf"><img src="https://travis-ci.org/jjesusfilho/stf.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/jjesusfilho/stf"><img src="https://ci.appveyor.com/api/projects/status/github/jjesusfilho/stf?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://codecov.io/github/jjesusfilho/stf?branch=master"><img src="https://codecov.io/gh/jjesusfilho/stf/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Jose de Jesus Filho.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
